<!--
                    __,__r========qL,
                 ,m**`~'            XW;
          ____Lm/'      _mmmm    jW@+===m___,
    .m+*f~TX7''|    `Y*X@X7~MMLL          ._JXmL,
  jf~'    `YM#:~      !*##@ d j@~Y!     `~~~+m_
 Z            M       `Nd*=+5+      -====L__ !M-
m!            `Y=;m_,   ~Yf~~               YL`W;
|        .mmmmmqrL_XXX~*==mL,                 Y#|
|  ,Z~~~~~'        ~~~~    X#         -==L__,  !#,
| |tL             ____WY*f~~                `~qd#W
V,| `~~Y*+mL_,  :f~~ ~                   q_    V#b
`b|         `Y+-W;                        `\\,  _#
  V              N,  m                 YL,   `\L#@
                  N  #                   YL,   `##,
                 .P  #                     `\   V#|
               ../   #           ^           YL |W
              -P     #    :P  ;  ||           `|!W
              Z'     #   :P  :'   #,           #L#
          _ _Wb    jWD  jf   /    |b           V@*
        j+N##8#4rt8#~.,jf    |    |#       b   |W
     .r*'m8####q#P8###*'    W    :##       V;  d|
    /K_jWK#X###~#|###mW#   :P  j;##|    #, `#, @
   !TGW###8#m#K7q=WWmd##mmm#m.Z8###!    #W  |b |
   /4#@##W#+##P:WZWMZ*W=m##WMN|WZWP:#;m,d#W;Dd |
  W*~~~M#W!KWjW5!!/WV##N7j#KXPNMX#DW###b###D#Xb|
 !'    d!JXXXW!`!Ldm@#bd#WW8K)X|X#8#8#K##V#!K5|#
      d@f~  jf.Z\/Vb*Y+W#j(WMZPrMM#@##K#@##;WWj##,
      ~    m*~'   '#`\8#W4KW#qX@VW##W#8##8#rNWK###G-
          `'       #`8*=#YWWK/b+WW#W#*#MWm8*KKd#M#**m,
                   #Z'  VW#f'~M+NM#####K#8@WLMZKX#W#+M;
                            ~` *YM#######@*)P/+DK####m#
                                 `'*##fXVPX|Vr~##Z#W@N@
                                    `WL_d**DfWX#8#WK##*b
                                              `W###@#N#/b
                                               .#mj#X~YM#
                                               ~`#WdD~  Y!
                                               `'_|#f--
                                                   *
-->


<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Sharpening the Vim</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/site.css">

    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Posts">
    <link rel="alternate" type="application/atom+xml" href="bits.xml" title="Bits">
</head>

<body>

    <menu id="social-media">
        <ul>
            <li><a href="//twitter.com/neagle">L</a></li>
            <li><a href="//www.facebook.com/neagle">F</a></li>
            <li><a href="//www.linkedin.com/in/nateeagle">I</a></li>
        </ul>
    </menu>

        <header>
            <h1>
                
                
                    <a href="/"><b>Nate</b> <b>Eagle</b></a>
                
            </h1>
        </header>

        <article>

    <time>November 07, 2011</time>

    <h2>Sharpening the Vim</h2>

<p>I&#8217;m somewhat ambivalent about Franklin Covey in general, but I must acknowledge that using the metaphor <a href="http://www.franklincovey.com/blog/tag/habit-7-sharpen-the-saw">sharpening the saw</a> to describe the vital habit of self-improvement is pretty awesome, largely because it implies that the most important thing in life is going around with a sharp-ass saw.</p>
<p>I&#8217;ve been a happy Vim user since <a href="http://concisionandconcinnity.blogspot.com/">Ian McCracken</a> introduced me to it a couple years ago. I&#8217;m not really sure it makes me a better programmer or person, especially since I&#8217;m not really sure that editor speed is the limiting factor in my work productivity. (I can type much, much faster than I can usefully think. As <a href="http://www.crockford.com/">Douglas Crockford</a> said at the recent Capitol JS Conference (paraphrased), &#8220;Most of the time you spend programming isn&#8217;t spent coding: it&#8217;s spent staring into the abyss saying, &#8216;My God, what have I done?&#8217;&#8221;)</p>
<p>That said, Vim makes entering and editing text feel effortless and elegant rather than frustrating. And, really, if you enter/edit text for a living, priority number one is making it an enjoyable or at least endurable task. For me, the big thing is that I don&#8217;t have to switch back and forth between a mouse and the keyboard.</p>
<p>The best intro to Vim is probably just to pull up your terminal and type <code>vimtutor</code>, an interactive tutorial that takes maybe twenty to thirty minutes. It&#8217;ll teach you everything you need to know to get started. But as <a href="http://yannesposito.com/">Yann Esposito</a> says in his excellent <a href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/">Learn Vim Progressively</a> entry: &#8220;Learning vim will be painful at first. It will take time. It will be a lot like playing a music instrument.&#8221;</p>
<p>I&#8217;ve used Vim for, I dunno, two years now, and it&#8217;s easy to settle into ruts. I&#8217;ve got ways of accomplishing everything I need, but they&#8217;re not all elegant. Last week, <a href="http://artzstudio.com">Dave Artz</a>, the AOLer who hired me (high five, Dave!) started trying out Vim. The last few days, he&#8217;s IMed me repeatedly asking about different ways to do things, plenty of which I had to look up. It was a good reminder that there&#8217;s lots I have yet to effectively learn or internalize, and that my ability to play this particular instrument still has plenty of room to grow.</p>
<p>Which is awesome.  So: that lengthy introduction aside, these are a few of the things I&#8217;ve had to look up that I want to write down so that I can remember them for the future.</p>
<h3>Vim &amp; pbcopy on OS X</h3>
<p><code>pbcopy</code> and <code>pbpaste</code> are the bees&#8217; knees: they&#8217;re commands that use OS X&#8217;s system clipboard (&#8220;paste board&#8221; is the OS X name, I guess) via terminal.</p>
<p>Adding this mapping to your <code>.vimrc</code> will let you use <code>ctrl-x</code> and <code>ctrl-c</code> to cut/copy the current visual selection to OS X&#8217;s pasteboard.</p>
<div>
<pre><code class='vim'>vmap &amp;lt;C-x&amp;gt; :!pbcopy&amp;lt;CR&amp;gt;
<p>vmap &lt;C-c&gt; :w !pbcopy&lt;CR&gt;&lt;CR&gt;</code></pre></p>
</div>
<p>Via <a href="http://drydevelopment.com/blog/vim-pbcopy-on-os-x">drydevelopment.com</a>.</p>
<h3>Change the Colorscheme</h3>
<p>This one&#8217;s super dumb, but when I was trying to find a decent colorscheme for Vim (I&#8217;m using <a href="http://www.vim.org/scripts/script.php?script_id=105">desert</a>), I kept closing Vim, editing my .vimrc, and reopening Vim. <span class="caps">LIKE</span> A <span class="caps">CHUMP</span>.</p>
<p><code>:colorscheme desert</code></p>
<h3>Using the Leader</h3>
<p>I&#8217;ve been pretty resistant to customizing Vim. I don&#8217;t like reassigning default functionality till I&#8217;m really sure I understand it. What if I break a feature I haven&#8217;t discovered yet because of today&#8217;s shortsightedness?</p>
<p>But Vim has a <a href="http://stevelosh.com/blog/2010/09/coming-home-to-vim/#using-the-leader">leader key</a>, the entire role of which is to give you a whole bunch of blank namespace to create custom commands. The default is <code>\</code>, but Steve Losh (the dude who wrote the article I just linked to) argues (to me persuasively) that <code>,</code> (the comma) is easier to reach and not used for anything else. Nice: the freedom to make useful custom stuff without worrying about messing things up for myself later on.</p>
<p>And, actually, <a href="http://stevelosh.com/blog/2010/09/coming-home-to-vim/">that whole article</a> is worth reading. He explains his whole <code>.vimrc</code> file in the most detail I&#8217;ve encountered. Well, maybe I should say that he explains it with the fewest assumptions about existing knowledge on the part of his reader. Which I appreciate.</p>
<h3>jsBeautify</h3>
<p><a href="http://www.vim.org/scripts/script.php?script_id=2727">jsBeautify</a> will clean up messy, inconsistently formatted JavaScript file with a single command. Awesome, but I need to figure out how much work would be involved in modifying it to follow <a href="http://docs.jquery.com/JQuery_Core_Style_Guidelines">the jQuery style guidelines</a>.</p>
<h3>Remove Unwanted Whitespace</h3>
<p>It&#8217;s simple to <a href="http://vim.wikia.com/wiki/Remove_unwanted_spaces">remove unwanted whitespace</a>:</p>
<blockquote>
<p>Delete all trailing whitespace (at the end of each line) with:</p>
<p><code>:%s/\s\+$//</code></p>
<p>More rarely, a user might want to delete whitespace at the beginning of each line:</p>
<p><code>:%s/^\s\+</code></p>
</blockquote>
<h3>Comment Out a Range of Lines</h3>
<p>Too lengthy to quote, here&#8217;s <a href="http://vim.wikia.com/wiki/Commenting_out_a_range_of_lines">the page</a>.</p>
<h3>Wrap visual selection in an <span class="caps">HTML</span> tag.</h3>
<pre><code>vmap &lt;Leader&gt;w &lt;Esc&gt;:call VisualHTMLTagWrap()&lt;CR&gt;
function! VisualHTMLTagWrap()
  let tag = input("Tag to wrap block: ")
  if len(tag) &gt; 0
    normal `&gt;
    if &amp;selection == 'exclusive'
      exe "normal i&lt;/".tag."&gt;"
    else
      exe "normal a&lt;/".tag."&gt;"
    endif
    normal `&lt;
    exe "normal i&lt;".tag."&gt;"
    normal `&lt;
  endif
endfunction</code></pre>
<p>Put it in <sub>/.vim/scripts/wrapwithtag.vim and enable in <code></sub>/.vimrc</code></p>
<pre><code>:au Filetype html,xml source ~/.vim/scripts/wrapwithtag.vim</code></pre>
<p>When editing <span class="caps">HTML</span> file, visually highlight text and press {Leader} w, enter tag name.</p>
<h3>Scrolling Quickly</h3>
<p>I tend to move quickly around a file either by typing a linenumber + G (which is awesome but too precisely to be useful, many times) or holding down <code>j</code> or <code>k</code>. (<span class="caps">LIKE</span> A <span class="caps">CHUMP</span>.)</p>
<p>Scrolling is easy. The most useful, <span class="caps">IMHO</span>, is:</p>
<pre><code>^D ^U  scroll half a page up, down</code></pre>
<p>But there are <a href="http://tnerual.eriogerg.free.fr/vimqrc.html">others</a>.</p>
<h3>Adjust Window Size</h3>
<p><code>vsplit</code> is basically the killer feature of Vim. When I showed Dave that he could <code>split</code>, <code>vsplit</code>, and re<code>split</code> any number of windows he chose on to infinity he basically flipped. I always keep my windows equally sized with <code>C-W + =</code>, but he wanted to adjust the sizes.</p>
<p>For vertically split windows, use <code>C-W + &lt;</code> to decrease the current window&#8217;s size and <code>C-W + &gt;</code> to increase it.</p>
<p>For horizintally split windows, use <code>C-W + plus</code> to make the window taller. (That just broke my typographic convention. It&#8217;s control-w plus the, uh, plus key.) Use <code>C-W + -</code> to make the window shorter. (That wasn&#8217;t much better, was it?)</p>
<h3>Clear Search Results with Leader + Space</h3>
<p>I usually clear search results by typing <code>/</code> plus a furious smattering of random letters. Crudely effective. But with the new leader key, I was willing to bind <code>leader + space</code> to accomplish this more elegantly.</p>
<pre><code>nnoremap &lt;leader&gt;&lt;space&gt; :noh&lt;cr&gt;</code></pre>
<h3>Add a line of equal signs for documentation</h3>
<p>Lines of equal signs look awesome. Proof:</p>
<pre><code>Lines of Equal Signs Look Awesome
=================================</code></pre>
<p>Bind <code>leader + 1</code> (or, you know, <code>leader</code> + <span class="caps">ANYTHING</span>) to create a new line below your current line of the same length of equal signs. Nice!</p>
<pre><code>nnoremap &lt;leader&gt;1 yypVr=</code></pre>
<h3>More Later</h3>
<p>I&#8217;ll add more to another entry whenever I&#8217;ve got too many Vim-related tabs open in Chrome.</p>


</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'nateeagle';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        <footer>
    <ul>
        <li><a href="http://nateeagle.com">Portfolio</a></li>
        <li><a href="http://twitter.com/#!/neagle">Twitter</a></li>
        <li><a href="http://www.linkedin.com/in/nathanaeleagle">Linked In</a></li>
        <li><a href="http://github.com/neagle">Github</a></li>
        <li><a href="http://profiles.google.com/neagle">Google+</a></li>
    </ul>
</footer>


    </div><!-- end #container -->

    <script src="/js/nateeagle.com.js"></script>
    

    <script>
        // Google Analytics
        var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-25457330-1']);
            _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');

            ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

            var s = document.getElementsByTagName('script')[0];

            s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
