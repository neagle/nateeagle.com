<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>My First Compass Mixin: Text-3d</title>
    <script data-main="js/main" src="/js/require.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/main.css">
    <script src="/js/lib/modernizr.js"></script>

    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Posts">
    <link rel="alternate" type="application/atom+xml" href="bits.xml" title="Bits">
  </head>
  <body>

    <div id="page">

      <section class="column col-1">
        
        <a href="/">
        <header>
          <b class="title">
            <h1>
                Nate Eagle
            </h1>
            <h2>Front-End Developer</h2>
          </b>

        </header>
          </a>

      </section><!-- end .col-1 -->

      <section class="column post">
  <article>

      <time>September 09, 2011</time>

      <h2>My First Compass Mixin: Text-3d</h2>

  <p>So I started using <a href="http://compass-style.org/">Compass</a> because <a href="http://twitter.com/#!/chriseppstein">Chris Eppstein</a> himself told me via a tweet that I should check it out. (I mentioned <span class="caps">SASS</span> in a tweet, and Mr. Eppstein seems to be as dedicated a promoter as he is talented a developer.) Compass is pretty fantastic, though I will menition that it&#8217;s not trivially easy to learn how to use effectively: I&#8217;m still working on learning a lot of the ins and outs of using <span class="caps">SASS</span> and mixins.</p>
<p>I won&#8217;t get too much into Compass itself &#8211; part of the idea of this blog is to keep things short and simple &#8211; but my favorite part of Compass is the mixins. These work like functions in JavaScript that let you pass in a minimal number of inputs and get out some more complex <span class="caps">CSS</span> as a result. This is great for simplifying CSS3, especially, which often requires outputing essentially the same information with the various vendor prefixes. Compass comes with a whole slew of them, but you can also define your own.</p>
<p>While working on the design for this blog, I found myself using (as I often do) a small trick that uses multiple text shadows to create a 3d text effect.</p>
<p><img src="/images/posts/desandro-made-this.png" title="David DeSandro Made This" alt="David DeSandro Made This" /></p>
<p>The technique was created, as far as I know, by <a href="http://desandro.com/">Dave DeSandro</a>, one of the classiest folks in interaction design, who uses it prominently on his homepage. Regardless of its ultimate origin, that&rsquo;s where I picked it up. It creates the illusion of blocky three-dimensional letters that have a side in shadows that stretches back in space. The <span class="caps">CSS</span> for it is easy to understand: it just uses the fact that the <code>text-shadow</code> property can have multiple, comma-separated backgrounds.</p>
<div class="highlight"><pre><code class="css"><span class="nf">#mytext</span> <span class="p">{</span>
    <span class="k">text-shadow</span><span class="o">:</span>
        <span class="m">1px</span> <span class="m">1px</span> <span class="m">0</span> <span class="m">#000</span><span class="o">,</span>
        <span class="m">2px</span> <span class="m">2px</span> <span class="m">0</span> <span class="m">#000</span><span class="o">,</span>
        <span class="m">3px</span> <span class="m">3px</span> <span class="m">0</span> <span class="m">#000</span><span class="o">,</span>
        <span class="m">4px</span> <span class="m">4px</span> <span class="m">0</span> <span class="m">#000</span><span class="o">,</span>
        <span class="m">5px</span> <span class="m">5px</span> <span class="m">0</span> <span class="m">#000</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre>
</div>
<p>The shadow is made up of 1px layers, each offset slightly from the one that preceded it. Here&rsquo;s an example that should make that obvious. (Note: example will not work in browsers that do not support <code>text-shadow</code>.)</p>
<style>h3.example1 { color: white; font-family: Futura, Arial, sans-serif; font-size: 48px; font-weight: bold; text-shadow: 1px 1px gray, 2px 2px white, 3px 3px gray, 4px 4px white, 5px 5px gray; text-transform: uppercase; }</style>
<h3 class="example1">Nate Eagle Made This</h3>
<div class="highlight"><pre><code class="css"><span class="nt">h3</span><span class="nc">.example1</span> <span class="p">{</span>
    <span class="k">text-shadow</span><span class="o">:</span>
        <span class="m">1px</span> <span class="m">1px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">2px</span> <span class="m">2px</span> <span class="nb">white</span><span class="o">,</span>
        <span class="m">3px</span> <span class="m">3px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">4px</span> <span class="m">4px</span> <span class="nb">white</span><span class="o">,</span>
        <span class="m">5px</span> <span class="m">5px</span> <span class="nb">gray</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre>
</div>
<p>I alternated the shadows between gray and white: you can see clearly how they stack. But if you make them a single color:</p>
<style>h3.example2 { color: white; font-family: Futura, Arial, sans-serif; font-size: 48px; font-weight: bold; text-shadow: 1px 1px gray, 2px 2px gray, 3px 3px gray, 4px 4px gray, 5px 5px gray; text-transform: uppercase; }</style>
<h3 class="example2">Nate Eagle Made This</h3>
<div class="highlight"><pre><code class="css"><span class="nt">h3</span><span class="nc">.example2</span> <span class="p">{</span>
    <span class="k">text-shadow</span><span class="o">:</span>
        <span class="m">1px</span> <span class="m">1px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">2px</span> <span class="m">2px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">3px</span> <span class="m">3px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">4px</span> <span class="m">4px</span> <span class="nb">gray</span><span class="o">,</span>
        <span class="m">5px</span> <span class="m">5px</span> <span class="nb">gray</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre>
</div>
<p>&hellip;it creates the illusion of a solid side, receding in space. Lovely, yeah? Only problem: it&#8217;s kind of a complex declaration. And fiddling around with the color and size of the effect is annoyingly complex: you have to add and remove whole lines, change multiple numbers, change the name of the color multiple times.</p>
<p>It&rsquo;s the perfect candidate for a mixin. Here&rsquo;s <a href="http://sass-lang.com/docs/yardoc/file.SASS_REFERENCE.html#defining_a_mixin">the documentation for defining a mixin</a>. In this example, I&rsquo;m going to reference another mixin &ndash; Compass&rsquo;s text-shadow plugin &ndash; after generating the string of shadows I want.</p>
<pre><code> @mixin text-3d($size: 5, $directionX: 1, $directionY: 1, $blur: 1px, $color: black ) {
    @if unitless($blur) {
        @warn "Assuming #{$blur} to be in pixels";
        $blur: 1px * $blur;
    }
    $string: '';
    @for $i from 1 through $size {
        $string: $string + ( #{$i * $directionX}px #{$i * $directionY}px $blur $color );
        @if $i &lt; $size {
            $string: $string + ', ';
        }
    }
    @include text-shadow(
        #{$string}
    )
}</code></pre>
<p>Pretty simple: this looks and works a lot like a function in JS/<span class="caps">PHP</span>. I accept a size parameter, which determines how many shadows to create (my examples above have five), then two direction parameters. This lets you send your 3d text down and to the right (1, 1), up and to the right (1, -1), up and to the left (-1, -1) or down and to the left (-1, 1). You can even use values like (-1, -0.5) to have the text go at 22.5&deg; rather than 45&deg;.</p>
<p>Using the mixin is as simple as this:</p>
<pre><code> @include text-3d( 3, -1, -1, 0, $someColor );
</code></pre>


  </article>

  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname = 'nateeagle',
      disqus_developer = 1;


      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>

  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


    </div>

  </body>
</html>
