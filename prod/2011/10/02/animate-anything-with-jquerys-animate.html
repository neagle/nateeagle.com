<!--
                    __,__r========qL,
                 ,m**`~'            XW;
          ____Lm/'      _mmmm    jW@+===m___,
    .m+*f~TX7''|    `Y*X@X7~MMLL          ._JXmL,
  jf~'    `YM#:~      !*##@ d j@~Y!     `~~~+m_
 Z            M       `Nd*=+5+      -====L__ !M-
m!            `Y=;m_,   ~Yf~~               YL`W;
|        .mmmmmqrL_XXX~*==mL,                 Y#|
|  ,Z~~~~~'        ~~~~    X#         -==L__,  !#,
| |tL             ____WY*f~~                `~qd#W
V,| `~~Y*+mL_,  :f~~ ~                   q_    V#b
`b|         `Y+-W;                        `\\,  _#
  V              N,  m                 YL,   `\L#@
                  N  #                   YL,   `##,
                 .P  #                     `\   V#|
               ../   #           ^           YL |W
              -P     #    :P  ;  ||           `|!W
              Z'     #   :P  :'   #,           #L#
          _ _Wb    jWD  jf   /    |b           V@*
        j+N##8#4rt8#~.,jf    |    |#       b   |W
     .r*'m8####q#P8###*'    W    :##       V;  d|
    /K_jWK#X###~#|###mW#   :P  j;##|    #, `#, @
   !TGW###8#m#K7q=WWmd##mmm#m.Z8###!    #W  |b |
   /4#@##W#+##P:WZWMZ*W=m##WMN|WZWP:#;m,d#W;Dd |
  W*~~~M#W!KWjW5!!/WV##N7j#KXPNMX#DW###b###D#Xb|
 !'    d!JXXXW!`!Ldm@#bd#WW8K)X|X#8#8#K##V#!K5|#
      d@f~  jf.Z\/Vb*Y+W#j(WMZPrMM#@##K#@##;WWj##,
      ~    m*~'   '#`\8#W4KW#qX@VW##W#8##8#rNWK###G-
          `'       #`8*=#YWWK/b+WW#W#*#MWm8*KKd#M#**m,
                   #Z'  VW#f'~M+NM#####K#8@WLMZKX#W#+M;
                            ~` *YM#######@*)P/+DK####m#
                                 `'*##fXVPX|Vr~##Z#W@N@
                                    `WL_d**DfWX#8#WK##*b
                                              `W###@#N#/b
                                               .#mj#X~YM#
                                               ~`#WdD~  Y!
                                               `'_|#f--
                                                   *
-->


<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>Animate Anything With jQuery's .animate()</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/css/global.css">

    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Posts">
    <link rel="alternate" type="application/atom+xml" href="bits.xml" title="Bits">
</head>

<body>

    <menu id="social-media">
        <ul>
            <li><a href="//twitter.com/neagle">L</a></li>
            <li><a href="//www.facebook.com/neagle">F</a></li>
            <li><a href="//www.linkedin.com/in/nateeagle">I</a></li>
        </ul>
    </menu>

        <header>
            <h1>
                
                
                    <a href="/"><b>Nate</b> <b>Eagle</b></a>
                
            </h1>
        </header>

        <article>

    <time>October 02, 2011</time>

    <h2>Animate Anything With jQuery's .animate()</h2>

<p>jQuery&#8217;s .animate() function is lovely: it&#8217;s got great queueing built in and makes animating in JS totally painless. But it&#8217;s limited to <span class="caps">CSS</span> properties. You can animate opacity, position, and more, but if you want to animate something in a very customized way, it&#8217;s not as obvious how .animate() can help you.</p>
<p>I&#8217;d been meaning to try working around this a while ago, but I never got around to it. This weekend at the jQuery conference in Boston, I saw <a href="http://gnarf.net/">Corey Frang</a> give a nice talk about how animation works in jQuery. He pointed out that it&#8217;d be awfully nice to be able to be able to use .animate() without needing a <span class="caps">CSS</span> property and that he&#8217;s hoping it can get worked into the 1.7 release for jQuery. He pointed out that it&#8217;s possible to work around the requirement right now, though, by using a fake <span class="caps">CSS</span> property, and he showed an example by <a href="http://benalman.com/">Cowboy</a> (Ben Alman) that animated a string of text in a really cool way: it began with all of the text hidden, then it progressively revealed the text as it if it were unrolling, or being typed in. It even used a bounce effect (via easing). This was a perfect example of a great effect that makes sense to use .animate() for, but sure as hell isn&#8217;t a <span class="caps">CSS</span> property.</p>
<p>So I decided to try to recreate Cowboy&#8217;s example on my own.</p>
<style>
p.animate {
background-color: #222;
border: 10px solid #555;
border-radius: 10px;
box-shadow: 0 0 1em #000;
margin: 1em 0;
padding: 20px;
position: relative;
width: 400px;
}
p.animate:before {
border: 2px solid #222;
border-radius: 5px;
bottom: -2px;
content: &#8217;&#8217;;
display: block;
left: -2px;
position: absolute;
right: -2px;
top: -2px;
}
.invisible {
opacity: 0;
}
</style>
<select class="easing"></select> <button class="animate">Animate</button>
<p class="animate">Look, just because I don&#8217;t be givin&#8217; no man a foot massage don&#8217;t make it right for Marsellus to throw Antwone into a glass motherfuckin&#8217; house, fuckin&#8217; up the way the nigger talks. Motherfucker do that shit to me, he better paralyze my ass, &#8216;cause I&#8217;ll kill the motherfucker, know what I&#8217;m sayin&#8217;?  Your bones don&#8217;t break, mine do. That&#8217;s clear. Your cells react to bacteria and viruses differently than mine. You don&#8217;t get sick, I do. That&#8217;s also clear. But for some reason, you and I react the exact same way to water. We swallow it too fast, we choke. We get some in our lungs, we drown. However unreal it may seem, we are connected, you and I. We&#8217;re on the same curve, just on opposite ends.</p>
<p>Speed: <input type="number" value="10" min="1" max="1000" class="speed" /> (lower is faster)</p>
<p>(Placeholder text courtesy of <a href="http://slipsum.com">Samuel L. Ipsum</a>)</p>
<p>The code&#8217;s dead simple.</p>
<div>
<pre><code class='js'>var $select = $( 'select.easing' );
<p>// Generate a select list of available easing functions<br />
// &#8230;because easing is fun!<br />
for ( func in $.easing ) {<br />
    if ( func !== &#8216;def&#8217; ) {<br />
        $( &#8216;&lt;option /&gt;&#8217;, {<br />
            text: func,<br />
            val: func<br />
        }).appendTo( $select );<br />
    }<br />
}</p>

<p>$( &#8216;button.animate&#8217; ).bind( &#8216;click&#8217;, function() {</p>
var $p = $( &#8216;p.animate&#8217; ),
text = $p.text(),
length = text.length,
$speed = $( &#8216;input[type=&quot;number&quot;].speed&#8217; );
$p
// Stop any in-progress animation on our paragraph
.stop()
// Set fake-property to 0
.css({ &#8216;fake-property&#8217;: 0 })
.animate({
// Animate the fake property from 0 to
// the length of the text
&#8216;fake-property&#8217;: length
}, {
// Make the speed directly proportional
// to the length of the text
duration: $speed.val() * length,
easing: $select.val(),
step: function( i ) {
// Since we&#8217;re using subsring, round i (which can be
// a floating point value) to an integer
var i = Math.round( i );

// Output the beginning of the string up to i, then
// output the rest wrapped in span.invisible
// We&#8217;ll set its opacity to 0 in our <span class="caps">CSS</span>
$p.html( text.substr( 0, i ) + &#8216;&lt;span class=&quot;invisible&quot;&gt;&#8217;
+ text.substring( i ) + &#8216;&lt;/span&gt;&#8217; );
}
});</code></pre>
</div>
<p>(Here&#8217;s <a href="http://jsfiddle.net/nate/Grt5e/">the same code in a fiddle</a> if you&#8217;d like to play.)</p>
<p>The animation itself is surprisingly smooth. I have it output the latter segment of the text string so that the element containing the text doesn&#8217;t change shape and size as it appears. It also prevents having the first few letters of words at the ends of lines appear before dropping the word to the line below as it gets long enough to wrap. Sometimes this might be a desireable effect: if you want it to look like the words are being typed live, for instance. In that case, just omit the span and the second substring.</p>
<p>Anyway: I guess it&#8217;s time to hunt down Cowboy&#8217;s example and see how I could have made mine better. I&#8217;m also eager to try other inventive ways to animate page elements &#8211; now it&#8217;s just a matter of getting the idea.</p>


</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'nateeagle';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        <footer>
    <ul>
        <li><a href="http://nateeagle.com">Portfolio</a></li>
        <li><a href="http://twitter.com/#!/neagle">Twitter</a></li>
        <li><a href="http://www.linkedin.com/in/nathanaeleagle">Linked In</a></li>
        <li><a href="http://github.com/neagle">Github</a></li>
        <li><a href="http://profiles.google.com/neagle">Google+</a></li>
    </ul>
</footer>


    </div><!-- end #container -->

    <script src="/js/jquery-1.6.2.min.js"></script>
    <script src="/js/site.js"></script>
    
        <script src="/js/jquery.easing.1.3.min.js"></script><script src="/js/examples/arbitrary-animation.js"></script>' 
    

    <script>
        // Google Analytics
        var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-25457330-1']);
            _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script');

            ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

            var s = document.getElementsByTagName('script')[0];

            s.parentNode.insertBefore(ga, s);
        })();
    </script>
</body>
</html>
